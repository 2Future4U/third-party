---


copyright:
  years: 2018
lastupdated: "2018-06-27"


---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:download: .download}

# 步驟 5：發佈及測試服務

既然您的一個以上受管理分配管理系統符合 OSB 規格，就可以回到資源管理主控台，以將服務發佈至 {{site.data.keyword.Bluemix_notm}} 型錄。完成*部署* 標籤：將服務方案部署排程到 {{site.data.keyword.Bluemix_notm}} 型錄的一個以上地區，並測試一個以上的分配管理系統，最後以受限可見性模式發佈至型錄。在您順利部署之後，請測試供應項目以確保它符合必要的準則，並視需要對發佈處理程序進行反覆運算。


## 開始之前

此步驟假設您已獲准提供整合式計費服務。如果您尚未在 Provider Workbench 中完成起始登錄及核准，則請參閱[入門指導教學](/docs/third-party/index.md)。
{: tip}

請確定您已開始步驟 1，並完成步驟 2、3 及 4：
1. [編寫服務文件及行銷公告](/docs/third-party/cis1-docs-marketing.html)。
2. [在資源管理主控台中定義供應項目](/docs/third-party/cis2-rmc-define.html)。
3. [開發及管理服務分配管理系統](/docs/third-party/cis3-broker.html)。
3. [開發鑑別流程](/docs/third-party/cis-iam.html)。

## 將服務發佈至 {{site.data.keyword.Bluemix_notm}}

1. 從資源管理主控台中，按一下**部署**頁面。
2. 按一下**分配管理系統**標籤，然後按一下**新增分配管理系統**
3. 按一下**管理**，以開啟「服務分配管理系統配置」頁面。
4. 新增受管理分配管理系統，然後按一下**登錄分配管理系統**。
5. 順利登錄之後，請切換至**型錄部署**標籤。
6. 按一下**新增部署**，然後選取您要部署的方案及分配管理系統。
7. 選取您要在其中部署服務的「地區」及「資料中心」，然後按一下**新增**。
8. 從**部署**頁面中，檢閱您未發佈的部署，然後按一下**發佈**。
9. 從**發佈至型錄**頁面中，檢閱部署的詳細資料，然後按一下**發佈**。

在導覽中，「部署」頁面現在應該會標示為已完成，指出您已達到最低需求。

停滯在部署失敗嗎？如需協助，請與 IBM 業務代表聯絡。
{: tip}

## 測試已部署的供應項目 

因為您是以受限可見性模式部署，所以只能在 {{site.data.keyword.Bluemix_notm}} 型錄中看到您的供應項目。使用下面的核對清單，登入 {{site.data.keyword.Bluemix_notm}}，並透過測試準則進行工作。

1. 使用 IBM ID 登入 {{site.data.keyword.Bluemix_notm}}：[https://console.bluemix.net](https://console.bluemix.net){: new_window} ![外部鏈結圖示](../icons/launch-glyph.svg "外部鏈結圖示")。
2. 確定您位在正確的帳戶（用來建立服務的相同帳戶）
3. 按一下標頭中的**型錄**鏈結，然後搜尋您的供應項目。您可能需要開啟實驗性服務型錄？
4. 接下來，使用下面的核對清單來驗證服務。

### 核對清單 - 測試服務
1. 從服務實例儀表板驗證鑑別
2. 正確地顯示型錄（「從分配管理系統匯入」會正確地顯示在資源管理主控台中）
3. 佈建有效 - 您可以在選擇的方案中建立服務實例
4. 取消佈建有效 - 您可以刪除服務實例。
5. 連結有效 - 您可以按一下**連線**，並將服務連接至另一個應用程式
6. 取消連結有效 - 您可以中斷服務的連線，並刪除連線。
7. 建立服務金鑰/刪除服務金鑰 - 您可以按一下**認證**，並產生服務金鑰，然後刪除該服務金鑰。
8. 如果您支援多個方案，則請測試 `plan_changeable`。如果您設定「是」來啟用此功能，則需要延伸 Open Service Broker，以支援所佈建實例的方案變更。如果您的供應項目支援多個方案，且您想要使用者能夠變更已佈建實例的方案，則需要讓使用者可以更新其服務實例。如需詳細資料，請參閱 Open Service Broker API 2.12 版中的 /v2/service_instances/{instance_id} PATCH 端點 - 修補程式 - 顯示使用者可以變更已佈建實例上的方案。若要測試，請切換現有已佈建服務實例上的方案。
9. OSB 規格不支援已停用的實例狀態，但還不是已刪除的實例狀態。為了讓 IBM Cloud 支援可能會遇到計費失效或其他導致帳戶暫停（但尚未取消）之狀況的客戶，IBM Cloud 已定義可容許停用及重新啟用服務實例的延伸 API 端點。下列端點延伸是**必要項目**；請與您的 IBM 業務代表合作，並讓他們測試您的啟用及停用端點：
   - 啟用及停用實例 (GET)：狀態 - 傳回服務實例的狀態。
   - 啟用及停用實例 (PUT)：可讓您啟用或停用服務實例。
10. 如果您支援計量方案，則請測試用量提交。針對任何具有計量用量的方案，您必須驗證下列項目：
   - 您可以對用量 API 進行 curl 處理，並根據用量正確地傳回精確的定價。
   - 您可以示範您已啟用用量的自動化每小時提交，且支援所有佈建您服務實例的使用者。

如果測試失敗，請重複之前的步驟來重新發佈服務及測試，並反覆運算直到成功為止。


## 後續步驟

既然您在型錄中有一個功能服務，就可以建置「展示」並要求核准，以公開發行您的服務。請參閱：[步驟 6：公開發行服務](/docs/third-party/cis6-ga.html)。
